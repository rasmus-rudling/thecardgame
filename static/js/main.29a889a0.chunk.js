(this["webpackJsonpreact-vers"]=this["webpackJsonpreact-vers"]||[]).push([[0],{14:function(e,a,t){e.exports=t.p+"static/media/blue_card.db0b65ea.png"},15:function(e,a,t){e.exports=t.p+"static/media/red_card.2abfa2da.png"},17:function(e,a,t){e.exports={myTeam:"result_myTeam__1vUH7",otherTeam:"result_otherTeam__JHu-0",row:"result_row__2R3i2",container:"result_container__3W37m",redText:"result_redText__Wwbq0",blueText:"result_blueText__YGUy1"}},32:function(e,a,t){e.exports={redText:"GameTimer_redText__1eDDf",timeText:"GameTimer_timeText__3Rv-r"}},38:function(e,a,t){e.exports=t.p+"static/media/headerImage.22c1bb2d.png"},40:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAQ5JREFUGBl9UDtOw1AQnF3bwhG/IyRHIHABiqQGIQoOgRNKRA8SpQmcgBpBn1yAJtDSEU6ACIWj2G+ZNVYkGlZ61uxvZseCJrJx+0jEhjDZaUovAozy/uzBc2Igm7QvW5t6EUpgWQQvIUkVGgOLeXWd9z7O5XTSOWyty2MxD5UIggFs1wxcg6RbGi++wrGq2SBUBlE4VUIJztdKCXNzFS5nys9uuTCY/TKxuQpnb07pqq7K/wM1wTReE9fzm/4ETyjdFMRelb8j14glg/KyJSepyEdMoO7cOBM933++7Z1sx+mG7nMhsmBCdklSicimxXe4GvVnd6SqHdpg3DmgpTMKdd0+G9MgcnPbe39iih+tz17DubxkEAAAAABJRU5ErkJggg=="},45:function(e,a,t){e.exports=t(72)},51:function(e,a,t){},52:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(41),c=t.n(l),m=(t(50),t(51),t(3)),s=t(8),i=t(73),o=t(74),d=t(43),u=t(75),g=t(76),p=(t(52),t(21));var E=function(e){var a=e.email,l=e.setEmail,c=e.password,E=e.setPassword,h=(e.loginError,e.setLoginError,Object(s.f)()),f=Object(n.useState)(""),b=Object(m.a)(f,2),v=b[0],j=b[1];return r.a.createElement(i.a,{className:"startContainer"},r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement("img",{src:t(38),alt:"THE CARD GAME",id:"headerimg"}))),r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{id:"text"}))),r.a.createElement(o.a,null,r.a.createElement(d.a,{md:3}),r.a.createElement(d.a,{md:6},r.a.createElement("div",{className:"loginBox"},r.a.createElement(u.a,{onSubmit:function(e){return function(e){e.preventDefault(),p.auth().signInWithEmailAndPassword(a,c).then((function(){h.push("/chat")}),(function(e){"There is no user record corresponding to this identifier. The user may have been deleted."===e.message?j("Fel mailadress!"):"The password is invalid or the user does not have a password."===e.message?j("Fel l\xf6senord!"):j(e.message)}))}(e)}},r.a.createElement(u.a.Group,{controlId:"formBasicEmail"},r.a.createElement(u.a.Label,null,"Email address:"),r.a.createElement(u.a.Control,{type:"email",autoFocus:!0,placeholder:"Enter email",onChange:function(e){return l(e.target.value)}}),r.a.createElement(u.a.Text,{className:"text-muted"})),r.a.createElement(u.a.Group,{controlId:"formBasicPassword"},r.a.createElement(u.a.Label,null,"Password:"),r.a.createElement(u.a.Control,{type:"text",placeholder:"Password",onChange:function(e){return E(e.target.value)}})),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,{className:"redText"},v)),r.a.createElement(u.a.Group,null,r.a.createElement(g.a,{type:"submit"},"Sign in")),r.a.createElement(u.a.Group,null,r.a.createElement(g.a,{type:"submit",variant:"outline-dark",onClick:function(){l("anna@kth.se"),E("hej123")}},"No account? Take a look at the page anyway by clicking here!"))))),r.a.createElement(d.a,{md:3})))},h=t(22),f=t.n(h),b=t(33),v=t(31),j=t(20),N=t(44),O=t(21);var C=function(e){var a=e.currentUsers,t=e.startTimer,l=Object(n.useState)(0),c=Object(m.a)(l,2),s=c[0],i=c[1],o=Object(n.useState)(420),d=Object(m.a)(o,2),u=d[0],g=d[1];return Object(n.useEffect)((function(){var e;if(s>=u){g(45),i(0);var n=new Date,r=n.getSeconds(),l=n.getMinutes(),c=n.getHours(),m=r<10?"0".concat(r):"".concat(r),o=l<10?"0".concat(l):"".concat(l),d=c<10?"0".concat(c):"".concat(c);O.firestore().collection("chats").doc(a).update({messages:O.firestore.FieldValue.arrayUnion({sender:"Admin",message:"\xc4r ni redo att g\xe5 till beslut?",senderImgURL:"none",timestamp:"".concat(d,":").concat(o,":").concat(m)}),usersVoted:[]}).then((function(){console.log("Adminmeddelande skapat!")}))}return e=setInterval((function(){t&&i((function(e){return e+1}))}),1e3),function(){return clearInterval(e)}}),[s,a,t]),r.a.createElement("div",null)};t(68),t(69),t(70);var T=function(e){var a=e.otherChats,t=e.handleChange,l=Object(n.useState)(50),c=Object(m.a)(l,2),s=c[0],i=c[1],o=Object(n.useState)(0),d=Object(m.a)(o,2),u=d[0],g=d[1],p=Object(n.useState)(-50),E=Object(m.a)(p,2),h=E[0],f=E[1];function b(e,a,t){for(var n=0,r=0;0===n;)n=Math.random();for(;0===r;)r=Math.random();var l=Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*r);return((l=l/10+.5)>1||l<0)&&(l=b(e,a,t)),l=Math.pow(l,t),l*=a-e,l+=e}return Object(n.useEffect)((function(){var e,n=null;u>=s?(g(0),h<20?(t(3,12,1,a),e=Math.round(b(2,12,1)),i(e)):h<55?(t(2,35,2,a),e=Math.round(b(2,30,1)),i(e)):h<90?(t(2,12,2,a),e=Math.round(b(3,12,3)),i(e)):h<100?(t(2,12,3,a),e=Math.round(b(2,12,1)),i(e)):(t(3,35,2,a),e=Math.round(b(2,30,1)),i(e))):n=setInterval((function(){g((function(e){return e+1})),f((function(e){return e+1}))}),1e3);return function(){return clearInterval(n)}})),r.a.createElement("div",null)};var x=function(e){var a=e.anonymousMode,t=Object(n.useState)([]),l=Object(m.a)(t,2),c=l[0],s=l[1],i=Object(n.useState)(0),u=Object(m.a)(i,2),g=u[0],p=u[1],E=Object(n.useState)(0),h=Object(m.a)(E,2),f=h[0],b=h[1],v=Object(n.useState)(0),j=Object(m.a)(v,2),N=j[0],O=j[1],C=Object(n.useState)(g),x=Object(m.a)(C,2),A=x[0],R=x[1],y=[g,f,N],k=[];function M(e,a,t){for(var n=0,r=0;0===n;)n=Math.random();for(;0===r;)r=Math.random();var l=Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*r);return((l=l/10+.5)>1||l<0)&&(l=M(e,a,t)),l=Math.pow(l,t),l*=a-e,l+=e}return k=a?[{name:"Anonym F\xe5gel",imgURL:"https://i.imgur.com/EE6kRq5.jpg"},{name:"Anonym Krokodil",imgURL:"https://i.imgur.com/o7EwPio.jpg"},{name:"Anonym Tiger",imgURL:"https://i.imgur.com/XYCgUkQ.jpg"}]:[{name:"Alexander \xd6berg",imgURL:"https://i.imgur.com/zQK9g6C.jpg"},{name:"Anna Gustavsson",imgURL:"https://i.imgur.com/wfIuhfl.jpg"},{name:"Julia Lindholm",imgURL:"https://i.imgur.com/Fci8yao.jpg"}],Object(n.useEffect)((function(){c.forEach((function(e){var a=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),l=document.createElement("img"),c=document.createElement("div");if(c.innerText="".concat(e.timeStamp," ").concat(e.sender),l.src=e.imgURL,c.className="nameTimeTag",l.className="img-element-other-team",n.className="row",r.className="col",t.innerText=e.message,t.className="otherMessages",a.className="otherMessagesBox",a.append(c),a.append(l),a.append(t),r.append(a),n.append(r),"undefined"!==t.innerText){document.getElementById("chatTextOther").append(n);var m=document.getElementById("chatTextOther");m.scrollTop=m.scrollHeight}}))}),[c]),r.a.createElement("div",{className:"chatBox",id:"secretChat"},r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{id:"userinfo"},r.a.createElement("b",null,"Motst\xe5ndarlaget:"),r.a.createElement("br",null),r.a.createElement("img",{src:k[0].imgURL,alt:""})," ",k[0].name,r.a.createElement("img",{src:k[1].imgURL,alt:""})," ",k[1].name,r.a.createElement("img",{src:k[2].imgURL,alt:""})," ",k[2].name))),r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{id:"chatTextOther"},r.a.createElement(T,{otherChats:c,handleChange:function(e,a,t){for(var n=arguments.length,r=new Array(n>3?n-3:0),l=3;l<n;l++)r[l-3]=arguments[l];var c,m=r,i="";c=Math.round(M(e,a,t));var o=Math.round(2*Math.random());y[o]!==A&&(o=Math.round(2*Math.random()),y[o]!==A&&(o=Math.round(2*Math.random()),y[o]!==A&&(o=Math.round(2*Math.random())))),0===o?p((function(e){return e+1})):1===o?b((function(e){return e+1})):O((function(e){return e+1})),R(g<A?g:f<A?f:N);for(var d=k[o].name,u=k[o].imgURL,E=0;E<c;E++)i+="\u3000";var h=new Date,v=h.getMinutes(),j=h.getHours(),C=v<10?"0".concat(v):"".concat(v),T=j<10?"0".concat(j):"".concat(j),x={message:i,sender:d,imgURL:u,timeStamp:"".concat(T,":").concat(C)};m.push(x),s(m)}})))))},A=r.a.createElement("div",null,"V\xe4lkommen till The Card Game. Ni har nu blivit indelade i tv\xe5 lag. B\xf6rja med att l\xe4sa igenom reglerna genom att klicka p\xe5 'spelregler' l\xe4ngst ned i f\xf6nstret."),R=r.a.createElement("div",null,r.a.createElement("i",null,"The Card Game")," g\xe5r ut p\xe5 att ni tillsammans i laget ska v\xe4lja ett r\xf6tt eller bl\xe5tt kort. Ni t\xe4vlar mot det andra laget och po\xe4ngen f\xf6rdelas enligt:",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:t(14)}),r.a.createElement("img",{src:t(14)})," B\xe5da lagen v\xe4ljer det bl\xe5a kortet. Alla deltagare f\xe5r 50 po\xe4ng.",r.a.createElement("br",null),r.a.createElement("img",{src:t(15)}),r.a.createElement("img",{src:t(14)})," Ni v\xe4ljer det r\xf6da kortet. Det andra laget v\xe4ljer det bl\xe5a kortet. Alla deltagare i ditt lag f\xe5r 100 po\xe4ng ",r.a.createElement("i",null,"var"),". Alla deltagare i det andra laget f\xe5r 0 po\xe4ng.",r.a.createElement("br",null),r.a.createElement("img",{src:t(14)}),r.a.createElement("img",{src:t(15)})," Ni v\xe4ljer det bl\xe5a kortet. Det andra laget v\xe4ljer det r\xf6da kortet. Alla deltagare i ditt lag f\xe5r 0 po\xe4ng. Alla deltagare i det andra laget f\xe5r 100 po\xe4ng var.",r.a.createElement("br",null),r.a.createElement("img",{src:t(15)}),r.a.createElement("img",{src:t(15)}),r.a.createElement("i",null,r.a.createElement("b",null,"Men "))," v\xe4ljer ",r.a.createElement("i",null,"b\xe5da")," lagen det r\xf6da kortet f\xe5r alla deltagare, i b\xe5da lagen, 0 po\xe4ng.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Pris: ")," Du kommer spela spelet tv\xe5 g\xe5nger - vid tv\xe5 olika tillf\xe4llen. Du har vid b\xe5da dessa tillf\xe4llen m\xf6jlighet att samla po\xe4ng. Deltagaren som i slut\xe4ndan har flest po\xe4ng vinner presentkort p\xe5 200 kr p\xe5 valfri butik listad p\xe5 ",r.a.createElement("i",null,r.a.createElement("u",null,"gogift.com")),", d\xe4r finns tex Clas Ohlsson, \xc5hlens, MatHem, H&M och m\xe5nga mer.",r.a.createElement("br",null),r.a.createElement("br",null),"Nu \xe4r det dags f\xf6r er i laget att diskutera och komma fram till vilket kort ni vill v\xe4lja. En bot kommer efter en stund kolla med er om ni \xe4r redo att g\xe5 till beslut. N\xe4r alla lagmedlemmar bekr\xe4ftat att ni \xe4r redo kommer en ruta f\xf6r r\xf6stning dyka upp. Annars f\xe5r ni forts\xe4tta diskutera, och boten \xe5terkommer igen efter en stund. Ni kan som l\xe4ngst diskutera i 10 minuter. Det \xe4r inte m\xf6jligt att kommunicera med det andra laget.",r.a.createElement("br",null),r.a.createElement("br",null),"N\xe4r b\xe5da lagen har tagit sitt beslut kommer en ruta upp med vilka som vann. Motst\xe5ndarlaget kan inte se att ni g\xe5tt till beslut f\xf6rr\xe4n efter spelet \xe4r \xf6ver.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("font",{color:"red"},r.a.createElement("b",null,"Ni kommer allts\xe5 endast k\xf6ra ",r.a.createElement("u",null,"en")," match idag, som p\xe5g\xe5r i 10 minuter. (Och inte 45 minuter som stod i Doodlen). ")," Ni som kommer via kursen DM1578 p\xe5 KTH f\xe5r fortfarande h\xf6gskolepo\xe4ng f\xf6r de 45 minuterna."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,r.a.createElement("i",null,"Lycka till!"))),y=t(32),k=t.n(y),M=function(e){var a=Object(n.useState)(0),t=Object(m.a)(a,2),l=t[0],c=t[1],s=Object(n.useState)(0),i=Object(m.a)(s,2),o=i[0],d=i[1],u=Object(n.useState)(!1),g=Object(m.a)(u,2),p=g[0],E=g[1];return Object(n.useEffect)((function(){d(e.seconds%60),c(Math.floor(e.seconds/60)),p&&0===e.seconds&&e.chooseCardAlert(),0===e.seconds?(document.getElementById("GameTimerContainer").className=k.a.redText,e.increaseTimeHandler(60),E(!0),e.lockChatHandler()):e.startTimer&&setTimeout((function(){e.increaseTimeHandler(e.seconds-1)}),1e3)}),[e.seconds,e.startTimer]),r.a.createElement("div",{id:"GameTimerContainer",className:k.a.timeText},"Tid kvar: ",l<10?"0".concat(l):"".concat(l),":",o<10?"0".concat(o):"".concat(o))},S=t(21);var I=function(e){var a=e.email,l=e.resultHandler,c=Object(s.f)(),p=Object(n.useState)([]),E=Object(m.a)(p,2),h=E[0],O=E[1],T=Object(n.useState)(""),y=Object(m.a)(T,2),k=y[0],I=y[1],w=Object(n.useState)(""),L=Object(m.a)(w,2),U=L[0],B=L[1],G=Object(n.useState)(!0),P=Object(m.a)(G,2),F=P[0],H=P[1],D=Object(n.useState)(["","","",""]),_=Object(m.a)(D,2),K=_[0],W=_[1],J=Object(n.useState)(""),V=Object(m.a)(J,2),Z=V[0],z=V[1],Y=Object(n.useState)(""),Q=Object(m.a)(Y,2),X=Q[0],q=Q[1],$=Object(n.useState)([]),ee=Object(m.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(!1),re=Object(m.a)(ne,2),le=re[0],ce=re[1],me=Object(n.useState)(600),se=Object(m.a)(me,2),ie=se[0],oe=se[1],de=Object(n.useState)([]),ue=Object(m.a)(de,2),ge=ue[0],pe=ue[1],Ee=Object(n.useState)(""),he=Object(m.a)(Ee,2),fe=he[0],be=he[1],ve=Object(n.useState)(""),je=Object(m.a)(ve,2),Ne=je[0],Oe=je[1],Ce=Object(n.useState)(""),Te=Object(m.a)(Ce,2),xe=Te[0],Ae=Te[1],Re=Object(n.useState)(""),ye=Object(m.a)(Re,2),ke=ye[0],Me=ye[1],Se=Object(n.useState)(!1),Ie=Object(m.a)(Se,2),we=Ie[0],Le=Ie[1],Ue=Object(n.useState)(null),Be=Object(m.a)(Ue,2),Ge=Be[0],Pe=Be[1];function Fe(e){var a="";return e.forEach((function(e,t,n){t!==n.length-1?a+=e+":":a+=e})),a}Object(n.useEffect)((function(){S.auth().onAuthStateChanged(function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=4;break}c.push("/"),e.next=6;break;case 4:return e.next=6,S.firestore().collection("chats").where("users","array-contains",a.email).onSnapshot(function(){var e=Object(v.a)(f.a.mark((function e(a){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.docs.map((function(e){return e.data()})),e.next=3,O(t),t[0].users.forEach((function(e,a,t){S.firestore().collection("users").doc(e).onSnapshot((function(t){W((function(n){var r=Object(b.a)(n);return r[a]={name:t.data().name,imgURL:t.data().imgURL,mail:e},r}))}))})),q(Fe(t[0].users)),ce(t[0].teamReady);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),S.firestore().collection("chats").where("users","array-contains",a).get().then((function(e){e.forEach((function(e){var t=Object(b.a)(e.data().usersLoggedIn);t.includes(a)||t.push(a);var n=e.id;pe(t),S.firestore().collection("chats").doc(n).update({usersLoggedIn:t})}))})),S.firestore().collection("users").doc(a).onSnapshot((function(e){I(e.data().name),B(e.data().imgURL)}))}),[]);var He=[];(He=[{rName:K[0].name,name:"My Sj\xf6gren",imgURL:"https://i.imgur.com/N8uazyK.jpg",mail:K[0].mail},{rName:K[1].name,name:"Kevin Str\xf6m",imgURL:"https://i.imgur.com/6zqOXhR.jpg",mail:K[1].mail},{rName:K[2].name,name:"Martin Berglund",imgURL:"https://i.imgur.com/l7sJZwW.jpg",mail:K[2].mail},{rName:""!==K[3]?K[3].name:null,name:"Sara Olsson",imgURL:"https://i.imgur.com/pidgrFa.jpg",mail:""!==K[3]?K[3].mail:null}]).findIndex((function(e){return e.rName===k})),Object(n.useEffect)((function(){""!==X&&h.filter((function(e,t){var n=!1;return e.users.forEach((function(e){e===a&&(n=!0)})),n})).forEach((function(e,n){var c,m;document.getElementById("chatMessages").innerHTML="",c=e.teamReady,ce(c),m=e.usersVoted,te(m),pe(e.usersLoggedIn);var s,i=S.firestore().collection("chats").doc(X);if((null===He[3].rName&&3===ge.length||4===ge.length)&&Le(!0),null!==He[3].rName&&4!==ge.length&&Le(!1),ge.includes(He[0].mail)&&be("https://i.imgur.com/LWKMROF.png"),ge.includes(He[1].mail)&&Oe("https://i.imgur.com/LWKMROF.png"),ge.includes(He[2].mail)&&Ae("https://i.imgur.com/LWKMROF.png"),ge.includes(He[3].mail)&&Me("https://i.imgur.com/LWKMROF.png"),le&&setTimeout((function(){for(var a=e.chosenRedCard,n=e.chosenBlueCard,r=document.createElement("div"),l=0;l<a;l++){var c=document.createElement("img");c.src=t(15),c.className="choicesCard",r.append(c)}for(var m=0;m<n;m++){var s=document.createElement("img");s.src=t(14),s.className="choicesCard",r.append(s)}var i=document.getElementById("chosenCardContainer");null!==i&&(i.innerHTML="",i.append(r))}),50),""===Z&&(s=X.split(":")[0],z(s)),a===Z&&F&&Pe(r.a.createElement(C,{currentUsers:X,startTimer:we})),e.chosenBlueCard+e.chosenRedCard===3&&null===He[3].rName||e.chosenBlueCard+e.chosenRedCard===4&&null!==He[3].rName){var o=e.chosenRedCard>=2?"redCard":"blueCard",d=e.otherTeamFinalCard,u=-1,g=-1;"redCard"===o&&"redCard"===d?(u=0,g=0):"redCard"===o&&"blueCard"===d?(u=100,g=0):"blueCard"===o&&"redCard"===d?(u=0,g=100):"blueCard"===o&&"blueCard"===d&&(u=50,g=50),i.update({teamPoints:u,finalCard:o}),l(o,d,u,g)}e.messages.forEach((function(t){var n=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),c=document.createElement("img");if(r.className="row",l.className="col","Admin"===t.sender){var m=e.readyToChoose,s=e.notReadyToChoose;(m+s===3&&null===He[3].rName||m+s===4&&null!==He[3].rName)&&(m>=2&&(i.update({teamReady:!0}),H(!1)),i.update({messages:S.firestore.FieldValue.arrayRemove(t)}),i.update({readyToChoose:0,notReadyToChoose:0})),n.className="adminMessages",n.innerText=" ".concat(t.message," Alla i laget m\xe5ste v\xe4lja.");var o=document.createElement("button"),d=document.createElement("button");o.innerText="Ja",o.className="voteButton",d.innerText="Nej",d.className="voteButton",ae.includes(a)?(o.className="hide",d.className="hide"):(o.className="",d.className=""),o.addEventListener("click",(function(){o.className="hide",d.className="hide",i.update({readyToChoose:e.readyToChoose+1,usersVoted:S.firestore.FieldValue.arrayUnion(a)})})),d.addEventListener("click",(function(){o.className="hide",d.className="hide",i.update({notReadyToChoose:e.notReadyToChoose+1,usersVoted:S.firestore.FieldValue.arrayUnion(a)})})),n.append(o),n.append(d);for(var u=0;u<m;u++)n.append("\u2714\ufe0f");for(var g=0;g<s;g++)n.append("\u274c");l.append(n),r.append(l)}else if(t.sender===k){var p=document.createElement("div"),E=document.createElement("div");E.innerText="".concat(t.timestamp," ").concat(t.sender),c.src=t.senderImgURL,n.innerText=" ".concat(t.message),p.append(E),p.append(n),p.append(c),p.className="myMessagesBox",n.className="myMessages",E.className="nameTimeTag",l.append(p),r.append(l)}else{var h=document.createElement("div"),f=document.createElement("div"),b=t.message;if(k===He[0].rName){var v=He[0].name.split(" ")[0],j=new RegExp(v,"ig"),N=He[0].rName.split(" ")[0];if(b=b.replace(j,N),t.sender===He[1].rName){var O=He[1].rName.split(" ")[0],C=new RegExp(O,"ig"),T=He[1].name.split(" ")[0];b=b.replace(C,T)}else if(t.sender===He[2].rName){var x=He[2].rName.split(" ")[0],A=new RegExp(x,"ig"),R=He[2].name.split(" ")[0];b=b.replace(A,R)}else if(t.sender===He[3].rName){var y=He[3].rName.split(" ")[0],M=new RegExp(y,"ig"),I=He[3].name.split(" ")[0];b=b.replace(M,I)}}else if(k===He[1].rName){var w=He[1].name.split(" ")[0],L=new RegExp(w,"ig"),U=He[1].rName.split(" ")[0];if(b=b.replace(L,U),t.sender===He[0].rName){var B=He[0].rName.split(" ")[0],G=new RegExp(B,"ig"),P=He[0].name.split(" ")[0];b=b.replace(G,P)}else if(t.sender===He[2].rName){var F=He[2].rName.split(" ")[0],D=new RegExp(F,"ig"),_=He[2].name.split(" ")[0];b=b.replace(D,_)}else if(t.sender===He[3].rName){var K=He[3].rName.split(" ")[0],W=new RegExp(K,"ig"),J=He[3].name.split(" ")[0];b=b.replace(W,J)}}else if(k===He[2].rName){var V=He[2].name.split(" ")[0],Z=new RegExp(V,"ig"),z=He[2].rName.split(" ")[0];if(b=b.replace(Z,z),t.sender===He[0].rName){var Y=He[0].rName.split(" ")[0],Q=new RegExp(Y,"ig"),X=He[0].name.split(" ")[0];b=b.replace(Q,X)}else if(t.sender===He[1].rName){var q=He[1].rName.split(" ")[0],$=new RegExp(q,"ig"),ee=He[1].name.split(" ")[0];b=b.replace($,ee)}else if(t.sender===He[3].rName){var te=He[3].rName.split(" ")[0],ne=new RegExp(te,"ig"),re=He[3].name.split(" ")[0];b=b.replace(ne,re)}}He[0].rName===t.sender?(c.src=He[0].imgURL,f.innerText="".concat(t.timestamp," ").concat(He[0].name)):He[1].rName===t.sender?(c.src=He[1].imgURL,f.innerText="".concat(t.timestamp," ").concat(He[1].name)):He[2].rName===t.sender?(c.src=He[2].imgURL,f.innerText="".concat(t.timestamp," ").concat(He[2].name)):He[3].rName===t.sender&&(c.src=He[3].imgURL,f.innerText="".concat(t.timestamp," ").concat(He[3].name)),n.innerText=b,h.append(f),h.append(c),h.append(n),h.className="otherMessagesBox",n.className="otherMessages",f.className="nameTimeTag",l.append(h),r.append(l)}document.getElementById("chatMessages").append(r)}));var p=document.getElementById("chatMessages");p.scrollTop=p.scrollHeight}))}),[h,k,U,F,K,Z,X,ae,le,ge]);var De=r.a.createElement("div",{className:"popContent"},r.a.createElement("div",{id:"header"}," SPELGRELER "),R),_e=null;return le&&(_e=r.a.createElement("div",{id:"voteBox"},r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement("h5",null,"V\xc4LJ KORT H\xc4R"),"Se till att vara \xf6verrens i gruppen innan valet g\xf6rs.",r.a.createElement("strong",null," Alla i laget m\xe5ste v\xe4lja."))),r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"inline-block",id:"redCardChooser"},r.a.createElement("div",{onClick:function(){document.getElementById("redCardChooser").className="hide",document.getElementById("blueCardChooser").className="hide";var e=S.firestore().collection("chats").doc(X),a=S.firestore.FieldValue.increment(1);e.update({chosenRedCard:a})}},r.a.createElement("img",{src:t(15)}),r.a.createElement("h6",{className:"inline-block"},"R\xd6TT KORT"))),r.a.createElement("div",{className:"inline-block",id:"blueCardChooser"},r.a.createElement("div",{onClick:function(){document.getElementById("redCardChooser").className="hide",document.getElementById("blueCardChooser").className="hide";var e=S.firestore().collection("chats").doc(X),a=S.firestore.FieldValue.increment(1);e.update({chosenBlueCard:a})}},r.a.createElement("img",{src:t(14)}),r.a.createElement("h6",{className:"inline-block"},"BL\xc5TT KORT"))))),r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement("p",{className:"choicesText"},"Era val: "),r.a.createElement("div",{id:"chosenCardContainer"}))))),r.a.createElement(i.a,{className:"chatContainer",fluid:!0},r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement("img",{src:t(38),alt:"THE CARD GAME",id:"headerimg"}))),r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{id:"text"},A,r.a.createElement(M,{seconds:ie,increaseTimeHandler:function(e){oe(e)},lockChatHandler:function(){document.getElementById("msg-box").disabled=!0;var e=S.firestore().collection("chats").doc(X);alert("Nu har ni en minut p\xe5 er att v\xe4lja kort!"),e.update({teamReady:!0})},chooseCardAlert:function(){alert("Nu m\xe5ste du v\xe4lja kort!!!")},startTimer:we})))),r.a.createElement(o.a,null," ",r.a.createElement(d.a,{sm:12,lg:6},"  ",r.a.createElement("div",{className:"chatBox"},r.a.createElement(o.a,null,r.a.createElement(d.a,{md:4},r.a.createElement("div",{id:"userinfo"},r.a.createElement("b",null,"Inloggad som:"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("img",{src:U,alt:""})," ",k," ",r.a.createElement("img",{src:t(40),id:null===He[3].rName?"loginimg":""})))),r.a.createElement(d.a,{md:8},r.a.createElement("div",{id:"userinfo"},r.a.createElement("b",null,"Lagmedlemmar"),r.a.createElement("br",null),k!==He[0].rName?r.a.createElement("div",{className:"teamMates"},r.a.createElement("img",{src:He[0].imgURL,alt:""})," ",He[0].name," ",r.a.createElement("img",{src:fe,alt:""})):null,k!==He[1].rName?r.a.createElement("div",{className:"teamMates"},r.a.createElement("img",{src:He[1].imgURL,alt:""})," ",He[1].name," ",r.a.createElement("img",{src:Ne,alt:""})):null,k!==He[2].rName?r.a.createElement("div",{className:"teamMates"},r.a.createElement("img",{src:He[2].imgURL,alt:""})," ",He[2].name," ",r.a.createElement("img",{src:xe,alt:""})):null,k!==He[3].rName&&null!==He[3].rName?r.a.createElement("div",{className:"teamMates"},r.a.createElement("img",{src:He[3].imgURL,alt:""})," ",He[3].name," ",r.a.createElement("img",{src:ke,alt:""})):null))),r.a.createElement(o.a,null,r.a.createElement(d.a,null,Ge,r.a.createElement("div",{id:"chatMessages"}))),r.a.createElement(o.a,null,r.a.createElement(d.a,{xs:12},r.a.createElement("div",{id:"submitRow"},r.a.createElement(u.a,{onSubmit:function(e){e.preventDefault();var a=document.getElementById("msg-box").value;console.log(a,"Hej01");var t=new Date,n=t.getMinutes(),r=t.getHours(),l=n<10?"0".concat(n):"".concat(n),c=r<10?"0".concat(r):"".concat(r);console.log(X),S.firestore().collection("chats").doc(X).update({messages:S.firestore.FieldValue.arrayUnion({sender:k,message:a,timestamp:"".concat(c,":").concat(l),senderImgURL:U})}),document.getElementById("msg-box").value="",document.getElementById("msg-box").focus()}},r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Control,{bsPrefix:"send_text",type:"text",id:"msg-box",autoFocus:!0}),r.a.createElement(g.a,{bsPrefix:"send_button",type:"submit"},"SKICKA")))))))))),r.a.createElement(d.a,{sm:12,lg:6}," ",r.a.createElement(x,{anonymousMode:!1}),_e)),r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{id:"bottomRow"},r.a.createElement("div",{id:"regler"},r.a.createElement(N.a,{trigger:r.a.createElement("div",null,"Spelregler"),modal:!0},De)),r.a.createElement("div",{id:"logout"},r.a.createElement(j.b,{to:"/thecardgame"},"Logga ut"))))))},w=t(17),L=t.n(w),U=(t(21),function(e){var a=document.createElement("img"),n=document.createElement("img");return a.src=t(15),n.src=t(14),r.a.createElement(i.a,{fluid:!0,className:L.a.container},setTimeout((function(){var e=document.createElement("p");e.innerText="Tack f\xf6r att du deltog i denna delt\xe4vling! Om det h\xe4r \xe4r din andra omg\xe5ng ska du nu g\xe5 in och svara p\xe5 formul\xe4ret som du nu f\xe5tt p\xe5 mailen!",document.getElementById("header").append(e)}),1500),r.a.createElement(o.a,{className:L.a.row},r.a.createElement(d.a,{md:6,className:L.a.myTeam},r.a.createElement("h1",{id:"header"}),r.a.createElement("h1",null,"Ert val"),"redCard"===e.finalCard?r.a.createElement("img",{src:t(15)}):r.a.createElement("img",{src:t(14)}),r.a.createElement("p",null,"Ni f\xe5r ",r.a.createElement("strong",{className:100===e.myPoints||0===e.myPoints?L.a.redText:L.a.blueText},e.myPoints)," po\xe4ng var!")),r.a.createElement(d.a,{md:6,className:L.a.otherTeam},r.a.createElement("h1",null,"Motst\xe5ndarlagets val"),"redCard"===e.otherTeamFinalCard?r.a.createElement("img",{src:t(15)}):r.a.createElement("img",{src:t(14)}),r.a.createElement("p",null,"Motst\xe5ndarlaget f\xe5r ",r.a.createElement("strong",{className:100===e.myPoints||0===e.myPoints?L.a.redText:L.a.blueText},e.otherTeamPoints)," po\xe4ng var!"))))});var B=function(){var e=Object(n.useState)("anna@kth.se"),a=Object(m.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(""),i=Object(m.a)(c,2),o=i[0],d=i[1],u=Object(n.useState)(""),g=Object(m.a)(u,2),p=g[0],h=g[1],f=Object(n.useState)(""),b=Object(m.a)(f,2),v=b[0],N=b[1],O=Object(n.useState)(""),C=Object(m.a)(O,2),T=C[0],x=C[1],A=Object(n.useState)(-1),R=Object(m.a)(A,2),y=R[0],k=R[1],M=Object(n.useState)(-1),S=Object(m.a)(M,2),w=S[0],L=S[1];function B(e){d(e)}function G(e){l(e)}function G(e){l(e)}return r.a.createElement(j.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(E,{email:t,setEmail:G,password:o,setPassword:B,loginError:p,setLoginError:h})),r.a.createElement(s.a,{exact:!0,path:"/thecardgame"},r.a.createElement(E,{email:t,setEmail:G,password:o,setPassword:B,loginError:p,setLoginError:h})),r.a.createElement(s.a,{exact:!0,path:"/chat"},r.a.createElement(I,{email:t,resultHandler:function(e,a,t,n){N(e),x(a),k(t),L(n)}})),r.a.createElement(s.a,{exact:!0,path:"/result"},r.a.createElement(U,{finalCard:v,otherTeamFinalCard:T,myPoints:y,otherTeamPoints:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=t(21);t(71);G.initializeApp({apiKey:"AIzaSyAdpOM4Bx2jIRTmqkLdxq2-WysYpZXW_BI",authDomain:"chatt-app-b6c9a.firebaseapp.com",databaseURL:"https://chatt-app-b6c9a.firebaseio.com",projectId:"chatt-app-b6c9a",storageBucket:"chatt-app-b6c9a.appspot.com",messagingSenderId:"999297534472",appId:"1:999297534472:web:5e2d45b432ecd04f385fbd",measurementId:"G-P2SMFJCGS3"}),c.a.render(r.a.createElement(j.a,{basename:"https://rrudling.github.io/"},r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.29a889a0.chunk.js.map